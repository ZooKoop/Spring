<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>用户列表</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/layer/theme/default/layer.css}"/>
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
<link rel="stylesheet" type="text/css" href="http://cdn.datatables.net/1.10.15/css/jquery.dataTables.css">
<script type="text/javascript" charset="utf8" src="http://cdn.datatables.net/1.10.15/js/jquery.dataTables.js"></script>
<script type="text/javascript" th:src="@{/layer/layer.js}"></script>
<script type="text/javascript" th:src="@{/js/myJs.js}"></script>
</head>
<body>
	<div th:replace="navbar :: html"></div>
	<div class="container-fluid">
		<h4 class="text-primary">用户列表</h4>
		<div>
			<a href="#" class="btn btn-info" id="saveUser" >添加用户</a>
		</div>
		<div>
			<table class="table table-bordered table-hover">
				<thead>
					<tr>
						<th>头像</th>
						<th>账号</th>
						<th>密码</th>
						<th>邮箱</th>
						<th>注册时间</th>
						<th>编辑</th>
						<th>删除</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="list:${list}">
						<td><img style="width: 50px;"
							class="img-rounded center-block" th:src="${list.srcImg}"></td>
						<td th:text="${list.userName}">1pp</td>
						<td th:text="${list.userPassword}">1pp</td>
						<td th:text="${list.email}">1pp</td>
						<td
							th:text="${#dates.format(list.regTime, 'yyyy-MM-dd HH:mm:ss')}">1pp</td>
						<td><a class="btn btn-primary center-block"
								th:data-id="${list.id}"
								onclick="cz(this.getAttribute('data-id'))" data-toggle="modal"
								data-target="#myModal">编辑</a></td>
						<td><a class="btn btn-danger center-block"
								th:href="@{/user/delete(id=${list.id})}"
								onclick="return confirm('确认删除该用户吗？')">删除</a></td>
					</tr>

				</tbody>
			</table>
		</div>
		<ul class="pagination">
			<li><a th:if="${list.number} gt 0"
				th:href="@{/user/list(page=${list.number-1})}">&laquo;</a></li>

			<li><a th:if="${list.number-1} ge 0"
				th:href="@{/user/list(page=${list.number-1})}"
				th:text="${list.number}">2</a></li>
			<li class="active"><a th:href="@{/list(page=${list.number})}"
				th:text="${list.number+1}">2222</a></li>
			<li><a th:if="${list.number+1} <= ${list.totalPages-1}"
				th:href="@{/user/list(page=${list.number+1})}"
				th:text="${list.number+2}">2</a></li>

			<li><a th:text="'当前页数：'+${list.number+1}"></a></li>
			<li><a th:text="'总页数'+${list.totalPages}"></a></li>
			<li><a th:if="${list.number} lt ${list.totalPages-1}"
				th:href="@{/user/list(page=${list.number+1})}">&raquo;</a></li>
		</ul>
		<!-- 模态框（Modal） -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="myModalLabel">编辑用户</h4>
					</div>
					<form class="form-horizontal" th:action="@{/user/userUpdate}">
						<div class="modal-body">
							<div class="form-group">
								<label for="userName" class="col-sm-2 control-label">用户名：</label>
								<div class="col-sm-10">
									<input type="hidden" class="form-control" id="id" name="id"
										value=""> <input type="text" class="form-control"
										id="userName" name="userName" value="">
								</div>
							</div>
							<div class="form-group">
								<label for="inputPassword3" class="col-sm-2 control-label">密码：</label>
								<div class="col-sm-10">
									<input type="password" readonly="readonly" class="form-control"
										id="userPassword" name="userPassword" value="">
								</div>
							</div>

							<div class="form-group">
								<label for="email" class="col-sm-2 control-label">邮箱：</label>
								<div class="col-sm-10">
									<input type="email" class="form-control" id="email"
										name="email" value="">
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label"></label>
							<div class="col-sm-10">
								<div th:if="${errorMsg!=null}" class="alert alert-danger"
									role="alert" th:text="${errorMsg}"></div>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default"
								data-dismiss="modal">关闭</button>
							<button type="submit" class="btn btn-primary">提交更改</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	
	<!--第二步：添加如下 HTML 代码-->
<table id="table_id_example" class="display">
    <thead>
        <tr>
            <th>Column 1</th>
            <th>Column 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Row 1 Data 1</td>
            <td>Row 1 Data 2</td>
        </tr>
        <tr>
            <td>Row 2 Data 1</td>
            <td>Row 2 Data 2</td>
        </tr>
    </tbody>
</table>
</body>
<script type="text/javascript">
$(document).ready( function () {
    $('#table_id_example').DataTable();
} );
</script>
</html>